<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Super Awesome Skapp</title>

    <!-- Edit or Replace the css file as you wish -->
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div class="wrapper">
      <h1>Create a Media Page</h1>
      <span class="caps" style="font-size: 16px"
        >Your Media, Decentralized &amp; Encrypted.</span
      >
      <br />
      <br />

      <!-- Ask for their name -->
      <div class="name-wrapper">
        <input
          type="text"
          name="name"
          class="question"
          id="name"
          required
          autocomplete="off"
        />
        <label class="question-label" for="name"
          ><span>What's your name?</span></label
        >
      </div>
      <br />

      <!-- Display button for Upload the media content -->
      <div class="snippet-wrapper">
        <label class="btn">
          <input type="file" id="mediaFile" />
          Upload your Media
        </label>
      </div>
      <br />

      <!-- Display the path to the media to be uploaded -->
      <span class="snippet" id="file-selected"></span>

      <!-- Display button for Generating the Skylink -->
      <div class="cta">
        <!-- 
             The 'onClick' event for this Button is where the magic is happening.
             Everything else in this html for the most part can be changed based on
             your application.
          -->
        <button id="save-trigger" class="btn" onclick="submit()">
          Create Media Page!
        </button>
      </div>

      <!-- Display the generated skylink -->
      <a class="skylinks" id="mediaLink" href=""></a>

      <span style="margin-top: auto" class="caps">Powered by Sia Skynet</span>
    </div>

    <!-- Load the main.js file that is generated by webpack -->
    <script src="main.js"></script>
    <script>
      const selectElement = document.querySelector("#mediaFile");

      selectElement.addEventListener("change", (event) => {
        const result = document.querySelector("#file-selected");
        result.textContent = `${event.target.value}`;
      });

      function submit() {
        var mediaFile = document.getElementById("mediaFile").files[0];
        var name = document.getElementById("name").value;
        window.createMediaPage(mediaFile, name);
      }
    </script>
  </body>
</html>
